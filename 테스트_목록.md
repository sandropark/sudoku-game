# 스도쿠 게임 테스트 목록 📋

## 📊 테스트 통계
- **단위 테스트**: 50개
- **UI 테스트**: 39개  
- **총 테스트**: 89개

---

## 🧪 단위 테스트 (Unit Tests)

### 1. SudokuViewModelTest.kt (25개 테스트)

| 테스트 | 목적 | 검증 내용 |
|--------|------|-----------|
| 초기 상태 테스트 | ViewModel 초기화 확인 | selectedRow/Col = -1, board = 9x9, 에러 상태 = false |
| 셀 선택 테스트 | 셀 선택 기능 | 선택된 셀의 row/col이 올바르게 설정 |
| 숫자 입력 테스트 | 숫자 입력 기능 | 빈 셀 + 초기 셀 모두에 숫자 입력 가능 |
| 유효하지 않은 이동 테스트 | 스도쿠 규칙 위반 처리 | 같은 행/열/박스에 같은 숫자 → invalidCells에 추가 |
| 셀 지우기 테스트 | 셀 지우기 기능 | 셀 값이 0으로 변경 |
| 새 게임 테스트 | 새 게임 기능 | 새로운 퍼즐 생성, 상태 초기화 |
| 게임 해답 보기 테스트 | 해답 보기 기능 | 모든 셀 채워짐, isGameComplete = true |
| 실행취소 테스트 | 되돌리기 기능 | 보드, 선택 상태, invalidCells 모두 이전 상태로 복구 |
| 동시 작업 테스트 | 빠른 연속 작업 | StateFlow 일관성 확인 |

### 2. SudokuGameTest.kt (12개 테스트)

| 테스트 | 목적 | 검증 내용 |
|--------|------|-----------|
| 초기 게임 생성 | 게임 생성 확인 | 보드 = 9x9, 모든 셀 = 0~9 범위 |
| 셀 값 설정 | 셀 설정 기능 | 빈 셀 + 초기 셀 모두 설정 가능 |
| 유효하지 않은 값 설정 | 범위 검증 | 10 이상, 음수 값 거부, 1~9는 허용 |
| 스도쿠 규칙 검증 | 규칙 검증 | 같은 행/열/박스에 같은 숫자 → false |
| 게임 완료 상태 | 완료 상태 확인 | 초기 = false, 해답 보기 후 = true |
| 초기 셀 확인 | 초기 셀 식별 | 초기 숫자 셀 = true, 빈 셀 = false |
| 해답 생성 | 해답 생성 기능 | 모든 셀 채워짐, solution과 일치 |
| 랜덤 퍼즐 생성 | 랜덤성 확인 | 매번 다른 퍼즐 생성, 유효한 스도쿠 규칙 |

### 3. SudokuGameBoundaryTest.kt (8개 테스트)

| 테스트 | 목적 | 검증 내용 |
|--------|------|-----------|
| 최소값/최대값 | 경계값 테스트 | 0, 9 설정 성공 |
| 유효하지 않은 값 범위 | 범위 검증 | 10 이상, 음수 거부 |
| 동시 셀 수정 | 동시성 테스트 | 여러 셀 연속 수정 시 일관성 |

### 4. SudokuStateTest.kt (2개 테스트)

| 테스트 | 목적 | 검증 내용 |
|--------|------|-----------|
| 기본 생성자 | 기본 초기화 | 모든 필드 기본값, board = 9x9 |
| 매개변수 생성자 | 매개변수 초기화 | 전달된 모든 값 올바르게 저장 |

### 5. SimpleTest.kt (1개 테스트)

| 테스트 | 목적 | 검증 내용 |
|--------|------|-----------|
| 간단한 셀 설정 | 기본 기능 | 빈 셀 찾기 → 유효한 값 찾기 → 셀 설정 |

### 6. SudokuIntegrationTest.kt (2개 테스트)

| 테스트 | 목적 | 검증 내용 |
|--------|------|-----------|
| 기본 동작 | 통합 동작 | ViewModel + Game 간 기본 상호작용 |
| 게임 완료 시나리오 | 전체 플로우 | 해답 보기로 게임 완료 시나리오 |

---

## 📱 UI 테스트 (Android Instrumented Tests)

### SudokuUITest.kt (39개 테스트)

#### 🎯 핵심 기능 테스트 (15개)

| 테스트 | 목적 | 검증 내용 |
|--------|------|-----------|
| 초기 화면 상태 | UI 요소 표시 | 스도쿠 보드, 숫자 패드, 버튼들 존재 |
| 셀 선택 | 셀 선택 UI | 셀 클릭 시 선택 상태 표시 |
| 숫자 입력 | 숫자 입력 UI | 셀 선택 → 숫자 버튼 클릭 → 셀에 숫자 표시 |
| 초기 셀 보호 | 초기 셀 수정 | 초기 셀도 숫자 입력 가능 (요구사항) |
| 유효하지 않은 이동 | 에러 표시 UI | 잘못된 숫자 → 빨간색 텍스트 표시 |
| 셀 지우기 | 지우기 UI | 지우기 버튼 → 셀 비워짐 |
| 새 게임 | 새 게임 UI | 새 게임 버튼 → 보드 초기화 |
| 해답 보기 | 해답 보기 UI | 해답 보기 버튼 → 모든 셀 채워짐 |
| 실행취소 버튼 | 되돌리기 UI | 실행취소 버튼 → 이전 상태 복구 |
| 초기 셀 지우기 | 초기 셀 지우기 | 초기 셀도 지우기 가능 (요구사항) |

#### 🎨 UI 레이아웃 테스트 (10개)

| 테스트 | 목적 | 검증 내용 |
|--------|------|-----------|
| 숫자 패드 버튼 | 숫자 버튼 표시 | 1~9 버튼 모두 존재, 클릭 가능 |
| 액션 버튼 | 액션 버튼 표시 | 새 게임, 해답 보기 버튼 작동 |
| 게임 완료 UI | 완료 상태 UI | 해답 보기 후 모든 셀에 1~9 표시 |
| 에러 상태 표시 및 복구 | 에러 UI | 잘못된 입력 → 빨간색 → 복구 |
| 숫자 패드 행 표시 | 패드 레이아웃 | 숫자 패드 행이 표시됨 |
| 모든 셀 표시 | 보드 레이아웃 | 모든 셀(9x9)이 표시됨 |
| 두꺼운 박스 선 | 박스 구분 | 3x3 박스가 시각적으로 구분됨 |
| 스도쿠 보드 레이아웃 | 보드 구조 | 9x9 그리드, 클릭 가능한 셀들 |
| 보드 크기 | 보드 크기 | 보드가 충분히 크게 표시됨 |

#### ⚡ 성능 및 안정성 테스트 (14개)

| 테스트 | 목적 | 검증 내용 |
|--------|------|-----------|
| 빠른 연속 작업 | UI 안정성 | 빠른 연속 셀 선택, 숫자 입력 |
| UI 상태 일관성 | 일관성 | 모든 UI 요소 일관되게 표시 |
| 스도쿠 보드 표시 | 기본 표시 | 보드가 표시됨 |
| 숫자 패드 표시 | 패드 표시 | 숫자 패드가 표시됨 |
| 숫자 버튼 표시 | 버튼 표시 | 숫자 버튼들이 표시됨 |
| 액션 버튼 표시 | 액션 표시 | 액션 버튼들이 표시됨 |
| 에러 메시지 타임아웃 | 에러 처리 | 에러 발생 시 안정적 처리 |
| ViewModel과 UI 초기 셀 일관성 | 일관성 | 초기 셀 처리 일관성 |
| 초기 및 편집 가능 셀 일관성 | 일관성 | 셀 타입별 처리 일관성 |
| 숫자 패드 상호작용 | 상호작용 | 숫자 패드 버튼 클릭 |
| 지우기 버튼 기능 | 지우기 기능 | 지우기 버튼 동작 |
| 지우기 버튼 (선택 없음) | 예외 처리 | 셀 선택 없이 지우기 |
| 지우기 버튼 여러 번 | 반복 동작 | 여러 번 연속 지우기 |
| 빠른 셀 선택 | 빠른 선택 | 빠른 연속 셀 선택 |

---

## 🎯 요구사항별 테스트 매핑

### ✅ 요구사항 1: "숫자 입력하면 화면에 숫자가 표시되고 틀린 숫자인 경우 빨간색으로 표시된다"

| 테스트 | 검증 내용 |
|--------|-----------|
| 숫자 입력 테스트 | 숫자가 항상 입력됨 |
| 유효하지 않은 이동 테스트 | invalidCells에 추가됨 |
| 유효하지 않은 이동 테스트 (UI) | 빨간색 텍스트 표시 |
| 초기 셀 보호 테스트 | 초기 셀도 수정 가능 |

### ✅ 요구사항 2: "되돌리기 시 게임판의 상태는 이전 상태로 돌아가야 한다"

| 테스트 | 검증 내용 |
|--------|-----------|
| 실행취소 테스트 | 보드, 선택 상태, invalidCells 복구 |
| 실행취소 버튼 테스트 | UI에서 이전 상태 복구 |
| testMultipleUndo | 여러 단계 되돌리기 |

---

## 🔧 테스트 특징

### 🛡️ 안정성 보장
- **동기화 처리**: `advanceUntilIdle()`, `runCurrent()` 사용
- **예외 처리**: 셀 없음, 텍스트 없음 등 안전 처리
- **복구 로직**: 테스트 후 상태 원래대로 복구

### 🎯 검증 방식
- **단위 테스트**: `assertEquals`, `assertTrue` 등 정확한 값 검증
- **UI 테스트**: `assertExists()`, `performClick()` 등 상호작용 검증
- **통합 테스트**: 전체 플로우 상태 일관성 검증

### 📈 테스트 커버리지
- **기능별**: 각 기능 독립적 테스트
- **경계값**: 최소값, 최대값, 유효하지 않은 값
- **에러 시나리오**: 잘못된 입력, 동시 작업
- **UI 상호작용**: 사용자 액션 반응

---

## 🚀 테스트 실행 결과
```
✅ 단위 테스트: 50/50 통과
✅ UI 테스트: 39/39 통과
✅ 전체 테스트: 89/89 통과
``` 